â”€
  CHARSET ::= EOF | CHAR
  STATUS ::= POSITION âŸªâ„•âŸ« | CLOSED
â””

â•·â•[ X ]
  sum : ğ”½(seq X) â†’ â„•
|
  sum âˆ… = 0
  âˆ€ x : seq X â¦ sum {x} = #x
  âˆ€ x, y : seq X â¦ sum({x} âˆª {y}) = sum {x} + sum {y}
â””

â”Œ File
  contents : seq(CHARSET âˆ– {EOF})
  status : STATUS
â””

â”Œ FileSystem
  files : ğ”½ File
  maxSize : â„•
|
  maxSize â‰¥ sum {c : seq(CHARSET âˆ– {EOF}) | c = files.contents}
â””

â”Œ OpenFile
  Î”File
|
  contentsâ€² = contents
  status = CLOSED
  statusâ€² = POSITION 0
â””

â”Œ CloseFile
  Î”File
|
  contentsâ€² = contents
  status âˆˆ STATUS âˆ– {CLOSED}
  statusâ€² = CLOSED
â””

â”Œ ReadFile
  Î”File
  next! : CHARSET
|
  contentsâ€² = contents
  âˆƒp : â„• â¦ 
   	status = POSITION p  âˆ§
   	(p < #contents âˆ§ statusâ€² = POSITION(p + 1) âˆ§ next! = contents(p) âˆ¨
   	statusâ€² = status âˆ§ next! = EOF)
â””

â”Œ AppendFile
  Î”File
  char? : CHARSET âˆ– {EOF}
|
  statusâ€² = status
  contentsâ€² = contents â€ âŸ¨char?âŸ©
â””

â”Œ OverwriteFile
  Î”File
  new? : seq CHARSET
|
  contentsâ€² = new?
  statusâ€² = status
â””